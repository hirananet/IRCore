import { EventEmitter } from '@angular/core';
import { ValidRegex } from '../utils/validRegex';
/**
 * Clase para manejar la recepciÃ³n de mensajes privados y de canal.
 */
// @dynamic
export class MessageHandler {
    static onMessage(message) {
        this.messageResponse.emit(message);
    }
    static getMeAction(parsedMessage) {
        return ValidRegex.actionRegex().exec(parsedMessage.message);
    }
    static setHandler(hdlr) {
        this.messageResponse.subscribe(message => {
            hdlr.onMessageReceived(message);
        });
    }
}
MessageHandler.messageResponse = new EventEmitter();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVzc2FnZS5oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL2FsZXhhL2dpdC9JUkNvcmUvcHJvamVjdHMvaXJjb3JlL3NyYy8iLCJzb3VyY2VzIjpbImxpYi9oYW5kbGVycy9NZXNzYWdlLmhhbmRsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFakQ7O0dBRUc7QUFDSCxXQUFXO0FBQ1gsTUFBTSxPQUFPLGNBQWM7SUFJbEIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUEwQjtRQUNoRCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRU0sTUFBTSxDQUFDLFdBQVcsQ0FBQyxhQUF5QjtRQUNqRCxPQUFPLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlELENBQUM7SUFFTSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQXVCO1FBQzlDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7O0FBZHNCLDhCQUFlLEdBQW9DLElBQUksWUFBWSxFQUFxQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5kaXZpZHVhbE1lc3NhZ2UgfSBmcm9tICcuLy4uL2R0by9JbmRpdmlkdWFsTWVzc2FnZSc7XG5pbXBvcnQgeyBJUkNNZXNzYWdlIH0gZnJvbSAnLi4vdXRpbHMvSVJDTWVzc2FnZS51dGlsJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVmFsaWRSZWdleCB9IGZyb20gJy4uL3V0aWxzL3ZhbGlkUmVnZXgnO1xuXG4vKipcbiAqIENsYXNlIHBhcmEgbWFuZWphciBsYSByZWNlcGNpw7NuIGRlIG1lbnNhamVzIHByaXZhZG9zIHkgZGUgY2FuYWwuXG4gKi9cbi8vIEBkeW5hbWljXG5leHBvcnQgY2xhc3MgTWVzc2FnZUhhbmRsZXIge1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbWVzc2FnZVJlc3BvbnNlOiBFdmVudEVtaXR0ZXI8SW5kaXZpZHVhbE1lc3NhZ2U+ID0gbmV3IEV2ZW50RW1pdHRlcjxJbmRpdmlkdWFsTWVzc2FnZT4oKTtcblxuICBwdWJsaWMgc3RhdGljIG9uTWVzc2FnZShtZXNzYWdlOiBJbmRpdmlkdWFsTWVzc2FnZSkge1xuICAgIHRoaXMubWVzc2FnZVJlc3BvbnNlLmVtaXQobWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldE1lQWN0aW9uKHBhcnNlZE1lc3NhZ2U6IElSQ01lc3NhZ2UpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFZhbGlkUmVnZXguYWN0aW9uUmVnZXgoKS5leGVjKHBhcnNlZE1lc3NhZ2UubWVzc2FnZSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHNldEhhbmRsZXIoaGRscjogT25NZXNzYWdlUmVjZWl2ZWQpIHtcbiAgICB0aGlzLm1lc3NhZ2VSZXNwb25zZS5zdWJzY3JpYmUobWVzc2FnZSA9PiB7XG4gICAgICBoZGxyLm9uTWVzc2FnZVJlY2VpdmVkKG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBPbk1lc3NhZ2VSZWNlaXZlZCB7XG4gIG9uTWVzc2FnZVJlY2VpdmVkKG1lc3NhZ2U6IEluZGl2aWR1YWxNZXNzYWdlKTtcbn1cbiJdfQ==